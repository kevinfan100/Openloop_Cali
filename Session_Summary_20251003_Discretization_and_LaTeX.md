# Session Summary - 2025-10-03
## é›¢æ•£åŒ–è½‰ç§»å‡½æ•¸èˆ‡ LaTeX è¼¸å‡ºåŠŸèƒ½å¯¦ä½œ

---

## å·¥ä½œæ¦‚è¿°
æœ¬æ¬¡å·¥ä½œä¸»è¦å¯¦ä½œé€£çºŒæ™‚é–“è½‰ç§»å‡½æ•¸çš„é›¢æ•£åŒ–ï¼ˆZero-Order Holdï¼‰ã€å› å¼åˆ†è§£è¡¨ç¤ºã€LaTeX æ ¼å¼è¼¸å‡ºï¼Œä»¥åŠç³»çµ±ç©©å®šæ€§åˆ†æèˆ‡é©—è­‰åŠŸèƒ½ã€‚

---

## 1. ç¨‹å¼ç¢¼å„ªåŒ–èˆ‡å•é¡Œè¨ºæ–·

### 1.1 åˆå§‹å•é¡Œï¼šé™£åˆ—ç¶­åº¦ä¸åŒ¹é…éŒ¯èª¤

**å•é¡Œæè¿°**ï¼š
```
Arrays have incompatible sizes for this operation.
Error in Model_6_6_Continuous_Weighted (line 171)
    sum_hk2_wk2 = sum(weight_k .* h_k.^2 .* w_k.^2);
```

**æ ¹æœ¬åŸå› **ï¼š
- ä½¿ç”¨è€…é‡æ–°æ¸¬é‡æ•¸æ“šå¾Œï¼ŒP1~P6.m æª”æ¡ˆçš„é »ç‡é»æ•¸ç™¼ç”Ÿè®ŠåŒ–
- `num_freq = 19` èˆ‡å¯¦éš›æ•¸æ“šé»æ•¸ä¸åŒ¹é…
- å°è‡´å‘é‡é‹ç®—ç¶­åº¦éŒ¯èª¤

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
ä½¿ç”¨è€…è‡ªè¡Œä¿®æ­£ P1~P6.m æ•¸æ“šæ ¼å¼ï¼Œç¢ºä¿ï¼š
- `frequencies` å‘é‡ç¶­åº¦æ­£ç¢º
- `magnitudes_linear` å’Œ `phases_processed` ç‚º 6Ã—N çŸ©é™£
- æ‰€æœ‰æ•¸æ“šæª”æ¡ˆçš„é »ç‡é»æ•¸ä¸€è‡´

---

## 2. é›¢æ•£åŒ–è½‰ç§»å‡½æ•¸å¯¦ä½œ

### 2.1 åŠŸèƒ½éœ€æ±‚

**ç›®æ¨™**ï¼š
å°‡ Multiple Curve Fitting çš„é€£çºŒæ™‚é–“çµæœ `H(s)` è½‰æ›ç‚ºé›¢æ•£æ™‚é–“ `H(zâ»Â¹)`

**è¼¸å…¥åƒæ•¸**ï¼š
- é€£çºŒç³»çµ±ï¼šA1, A2, B (å¾ Multiple Curve Fitting å–å¾—)
- æ¡æ¨£æ™‚é–“ï¼šT = 1Ã—10â»âµ s (10 Î¼s)
- é›¢æ•£åŒ–æ–¹æ³•ï¼šZero-Order Hold (ZOH)

**è¼¸å‡ºæ ¼å¼**ï¼š
åƒç…§ä½¿ç”¨è€…æä¾›çš„åœ–ç‰‡æ ¼å¼ï¼š
```
H(zâ»Â¹) = zâ»Â¹ Â· (bâ‚€ + bâ‚zâ»Â¹) / (1 + aâ‚zâ»Â¹ + aâ‚‚zâ»Â²) Â· B
```

### 2.2 å¯¦ä½œä½ç½®

**[Model_6_6_Continuous_Weighted.m:325-449](Model_6_6_Continuous_Weighted.m#L325)**

#### æ ¸å¿ƒç¨‹å¼ç¢¼ï¼š

```matlab
%% ========== DISCRETIZATION AND LATEX OUTPUT ==========

% æ¡æ¨£æ™‚é–“
T_sample = 1e-5;  % 10 Âµs

% å»ºç«‹é€£çºŒæ™‚é–“è½‰ç§»å‡½æ•¸
num_s = A2;
den_s = [1, A1, A2];
H_continuous = tf(num_s, den_s);

% ä½¿ç”¨ ZOH æ–¹æ³•é›¢æ•£åŒ–
H_discrete = c2d(H_continuous, T_sample, 'zoh');

% æå–é›¢æ•£è½‰ç§»å‡½æ•¸çš„ä¿‚æ•¸
[num_z, den_z] = tfdata(H_discrete, 'v');

% æ­£è¦åŒ–åˆ†æ¯ï¼ˆç¢ºä¿é¦–é …ç‚º1ï¼‰
den_z = den_z / den_z(1);
num_z = num_z / den_z(1);
```

### 2.3 B çŸ©é™£ç¬¦è™Ÿä¿®æ­£

**éœ€æ±‚**ï¼š
- å°è§’ç·šå…ƒç´ ï¼šä¿æŒæ­£å€¼
- éå°è§’ç·šå…ƒç´ ï¼šåŠ ä¸Šè² è™Ÿ

**å¯¦ä½œ [Line 331-338](Model_6_6_Continuous_Weighted.m#L331)**ï¼š
```matlab
B_modified = B;
for i = 1:num_channels
    for j = 1:num_channels
        if i ~= j
            B_modified(i,j) = -B(i,j);
        end
    end
end
```

### 2.4 å›ºå®š Amplifier Gain Matrix

**éœ€æ±‚**ï¼š
ä½¿ç”¨è€…æŒ‡å®šå›ºå®šçš„ kâ‚ çŸ©é™£ï¼Œè€Œéå¾ B çŸ©é™£è‡ªå‹•æå–

**å¯¦ä½œ [Line 403](Model_6_6_Continuous_Weighted.m#L403)**ï¼š
```matlab
% å›ºå®š Amplifier gain matrixï¼ˆä½¿ç”¨æŒ‡å®šæ•¸å€¼ï¼‰
k_A = diag([0.3618, 0.3614, 0.3536, 0.3532, 0.3573, 0.3610]);
```

**æ•¸å€¼ä¾†æº**ï¼š
```
kâ‚ = diag([0.3618, 0.3614, 0.3536, 0.3532, 0.3573, 0.3610])
```

---

## 3. LaTeX è¼¸å‡ºåŠŸèƒ½

### 3.1 åˆå§‹å¯¦ä½œå•é¡Œ

**å•é¡Œ1ï¼šWord æ–¹ç¨‹å¼ç·¨è¼¯å™¨ä¸æ”¯æ´æ¨™æº– LaTeX**
- åˆå§‹ä½¿ç”¨ `\begin{bmatrix}...\end{bmatrix}`
- Word ç„¡æ³•æ­£ç¢ºæ¸²æŸ“

**å•é¡Œ2ï¼šçŸ©é™£æ ¼å¼ä¸æ­£ç¢º**
- æ›è¡Œç¬¦è™Ÿ `\\` æœªè¢«æ­£ç¢ºè™•ç†
- å…ƒç´ é–“ç¼ºå°‘ç©ºæ ¼

### 3.2 Word é©é…æ ¼å¼

**æœ€çµ‚è§£æ±ºæ–¹æ¡ˆ [Line 456-495](Model_6_6_Continuous_Weighted.m#L456)**ï¼š

#### æ–¹æ³•Aï¼šWord æ¨™æº–çŸ©é™£ç¬¦è™Ÿ
```matlab
word_format_B = 'B=[â– (';
for i = 1:num_channels
    for j = 1:num_channels
        if j > 1
            word_format_B = sprintf('%s&%.4f', word_format_B, B_modified(i,j));
        else
            word_format_B = sprintf('%s%.4f', word_format_B, B_modified(i,j));
        end
    end
    if i < num_channels
        word_format_B = sprintf('%s@', word_format_B);
    end
end
word_format_B = sprintf('%s)]', word_format_B);
```

**ç¬¦è™Ÿèªªæ˜**ï¼š
- `â– `ï¼šWord çŸ©é™£ç¬¦è™Ÿï¼ˆè¼¸å…¥ `\matrix` å¾ŒæŒ‰ç©ºæ ¼è‡ªå‹•è½‰æ›ï¼‰
- `@`ï¼šWord çš„çŸ©é™£æ›è¡Œç¬¦è™Ÿ
- `&`ï¼šå…ƒç´ åˆ†éš”ç¬¦

#### æ–¹æ³•Bï¼šLaTeX + æ–¹æ‹¬è™Ÿ
```matlab
single_line_B = 'B=[\begin{matrix}';
% åŠ å…¥ç©ºæ ¼ï¼š& è®Šæˆ ' & '
% æ›è¡Œç¬¦è™Ÿï¼š' @ '
```

### 3.3 è¼¸å‡ºæª”æ¡ˆçµæ§‹

**æª”æ¡ˆåç¨±**ï¼š`transfer_function_latex.txt`

**å…§å®¹çµæ§‹**ï¼š
```latex
% ============================================
% Transfer Function LaTeX Output
% Generated: [æ—¥æœŸæ™‚é–“]
% ============================================

% === Continuous-Time Transfer Function ===
\mathbf{H}(s) = \frac{1.1592 \times 10^{7}}{s^2 + 6.6172 \times 10^{3} s + 1.1592 \times 10^{7}} \mathbf{B}

% === Discrete-Time Transfer Function (ZOH) - Factored Form ===
% Sampling Time: T = 1e-05 s
[å› å¼åˆ†è§£æˆ–äºŒæ¬¡å¼å½¢å¼]

% === B Matrix (off-diagonal elements negated) ===
% æ ¼å¼1: å¤šè¡Œæ ¼å¼ï¼ˆé©åˆ LaTeX æ–‡æª”ï¼‰
\mathbf{B} = \begin{bmatrix}
...
\end{bmatrix}

% æ ¼å¼2: å–®è¡Œæ ¼å¼ï¼ˆè¤‡è£½åˆ° Word æ–¹ç¨‹å¼ç·¨è¼¯å™¨ï¼‰
B=[â– (0.2365&-0.0064&...)]

% === Amplifier Gain Matrix ===
[åŒæ¨£æä¾›å…©ç¨®æ ¼å¼]
```

---

## 4. é›¢æ•£ç³»çµ±ç©©å®šæ€§åˆ†æèˆ‡æ¥µé»å•é¡Œ

### 4.1 é‡å¤§ Bug ç™¼ç¾èˆ‡ä¿®æ­£ ğŸ›

#### **åˆå§‹éŒ¯èª¤çµæœ**ï¼š
```
åˆ†æ¯: (1 - 1.0336 zâ»Â¹)(1 - 1.0336 zâ»Â¹)
æ¥µé»: r1 = r2 = 1.0336
å•é¡Œ: |z| = 1.0336 > 1 â†’ ä¸ç©©å®šï¼
```

#### **Bug æ ¹æº**ï¼š

**éŒ¯èª¤ä»£ç¢¼ [åŸ Line 420](èˆŠç‰ˆæœ¬)**ï¼š
```matlab
% éŒ¯èª¤ï¼šè¨ˆç®—çš„æ˜¯ zâ»Â¹ çš„å€¼ï¼Œè€Œé Z åŸŸæ¥µé»
roots_den = roots([a2, a1, 1]);  % æ±‚ a2*w^2 + a1*w + 1 = 0
r1 = roots_den(1);
r2 = roots_den(2);
```

**æ•¸å­¸éŒ¯èª¤**ï¼š
- å°æ–¼ `1 + a1*zâ»Â¹ + a2*zâ»Â²`
- éŒ¯èª¤åœ°å°‡å…¶è¦–ç‚º `a2*wÂ² + a1*w + 1 = 0`ï¼ˆå…¶ä¸­ w = zâ»Â¹ï¼‰
- è¨ˆç®—å‡ºçš„æ ¹æ˜¯ **zâ»Â¹ çš„å€¼**ï¼Œéœ€è¦å–å€’æ•¸æ‰æ˜¯ Z åŸŸæ¥µé»

#### **æ­£ç¢ºä¿®æ­£ [Line 422-428](Model_6_6_Continuous_Weighted.m#L422)**ï¼š
```matlab
% æ­£ç¢ºçš„æ¥µé»è¨ˆç®—ï¼šz^2 + a1*z + a2 = 0
poles_z = roots([1, a1, a2]);  % çœŸæ­£çš„ Z åŸŸæ¥µé»
z1 = poles_z(1);
z2 = poles_z(2);

% å°æ–¼ z^-1 å½¢å¼ï¼š(1 - z1*z^-1) ä¸­çš„ä¿‚æ•¸å°±æ˜¯æ¥µé»æœ¬èº«
r1 = z1;
r2 = z2;
```

**æ•¸å­¸æ¨å°**ï¼š
```
1 + a1*zâ»Â¹ + a2*zâ»Â² = 0
å…©é‚Šä¹˜ä»¥ zÂ²:
zÂ² + a1*z + a2 = 0  â† æ­£ç¢ºçš„æ¥µé»æ–¹ç¨‹å¼
```

#### **ä¿®æ­£å¾Œçš„æ­£ç¢ºçµæœ**ï¼š
```
Z åŸŸæ¥µé»: z1,2 = 0.9674 Â± 0.0078i
æ¥µé»æ¨¡é•·: |z| = 0.9675 < 1
âœ“ ç³»çµ±ç©©å®šï¼ˆæ‰€æœ‰æ¥µé»åœ¨å–®ä½åœ“å…§ï¼‰
```

### 4.2 å…±è»›è¤‡æ•¸æ¥µé»è™•ç†

#### **å•é¡Œ**ï¼š
ç³»çµ±æ¥µé»ç‚ºå…±è»›è¤‡æ•¸å°ï¼Œç„¡æ³•ç”¨å¯¦æ•¸å› å¼åˆ†è§£

**åˆ¤åˆ¥å¼é©—è­‰**ï¼š
```matlab
Î” = a1Â² - 4a2 = (-1.9348)Â² - 4Ã—0.9360 = -0.000243 < 0
```
- Î” < 0 â†’ å…±è»›è¤‡æ•¸æ ¹
- ç„¡æ³•è¡¨ç¤ºæˆ `(1 - r1*zâ»Â¹)(1 - r2*zâ»Â¹)` çš„å¯¦æ•¸å½¢å¼

#### **è§£æ±ºæ–¹æ¡ˆï¼šè‡ªå‹•åˆ¤æ–·æ ¼å¼**

**[Line 456-481](Model_6_6_Continuous_Weighted.m#L456)**ï¼š
```matlab
if abs(imag(z1)) > 1e-6
    % å…±è»›è¤‡æ•¸æ¥µé»ï¼šä½¿ç”¨äºŒæ¬¡å¼ï¼ˆé¿å…è™›æ•¸ï¼‰
    latex_output{end+1} = sprintf([...
        '\\mathbf{H}(z^{-1}) = z^{-1} \\frac{' ...
        '%.4f \\times 10^{%d} \\times (1 + %.4f z^{-1})' ...
        '}{' ...
        '1 + %.6f z^{-1} + %.6f z^{-2}' ...
        '} \\mathbf{B}'], ...
        b0_mantissa, b0_exp, b1_over_b0, a1, a2);

    % åŒæ™‚æä¾›è¤‡æ•¸å› å¼ï¼ˆè¨»è§£ï¼‰
    latex_output{end+1} = sprintf([...
        '%% è¤‡æ•¸å› å¼åˆ†è§£: (1 - (%.6f%+.6fi) z^{-1})(1 - (%.6f%+.6fi) z^{-1})'], ...
        real(r1), imag(r1), real(r2), imag(r2));
else
    % å¯¦æ•¸æ¥µé»ï¼šå› å¼åˆ†è§£å½¢å¼
    [å¯¦æ•¸å› å¼åˆ†è§£ä»£ç¢¼]
end
```

**å„ªé»**ï¼š
- è‡ªå‹•åµæ¸¬æ¥µé»é¡å‹
- è¤‡æ•¸æ¥µé»ä½¿ç”¨äºŒæ¬¡å¼ï¼ˆæ‰€æœ‰ä¿‚æ•¸ç‚ºå¯¦æ•¸ï¼‰
- å¯¦æ•¸æ¥µé»ä½¿ç”¨å› å¼åˆ†è§£ï¼ˆæ›´ç›´è§€ï¼‰

### 4.3 ç©©å®šæ€§åˆ†æå¢å¼·

**[Line 373-388](Model_6_6_Continuous_Weighted.m#L373)**ï¼š

```matlab
fprintf('\nZ åŸŸæ¥µé»ï¼ˆå®Œæ•´ç²¾åº¦ï¼‰ï¼š\n');
fprintf('  z1 = %.8f + %.8fi, |z1| = %.8f\n', real(poles_z_val(1)), imag(poles_z_val(1)), abs(poles_z_val(1)));
fprintf('  z2 = %.8f + %.8fi, |z2| = %.8f\n', real(poles_z_val(2)), imag(poles_z_val(2)), abs(poles_z_val(2)));

% åˆ¤æ–·æ˜¯å¦ç‚ºå…±è»›è¤‡æ•¸å°
if abs(imag(poles_z_val(1))) > 1e-8
    fprintf('  é¡å‹: å…±è»›è¤‡æ•¸æ¥µé»å°ï¼ˆæœ‰æŒ¯ç›ªç‰¹æ€§ï¼‰\n');
else
    fprintf('  é¡å‹: å¯¦æ•¸æ¥µé»\n');
end

if all(abs(poles_z_val) < 1)
    fprintf('  âœ“ ç³»çµ±ç©©å®š (æ‰€æœ‰æ¥µé»åœ¨å–®ä½åœ“å…§)\n');
else
    fprintf('  âœ— ç³»çµ±ä¸ç©©å®š (æœ‰æ¥µé»åœ¨å–®ä½åœ“å¤–)\n');
end
```

**è¼¸å‡ºç¯„ä¾‹**ï¼š
```
Z åŸŸæ¥µé»ï¼ˆå®Œæ•´ç²¾åº¦ï¼‰ï¼š
  z1 = 0.96742417 + 0.00777096i, |z1| = 0.96745533
  z2 = 0.96742417 - 0.00777096i, |z2| = 0.96745533
  é¡å‹: å…±è»›è¤‡æ•¸æ¥µé»å°ï¼ˆæœ‰æŒ¯ç›ªç‰¹æ€§ï¼‰
  âœ“ ç³»çµ±ç©©å®š (æ‰€æœ‰æ¥µé»åœ¨å–®ä½åœ“å…§)

å› å¼åˆ†è§£å½¢å¼ï¼ˆè¿‘ä¼¼é¡¯ç¤ºï¼‰ï¼š
  åˆ†å­: 5.6695 Ã— 10^-4 Ã— (1 + 0.9782 zâ»Â¹)
  åˆ†æ¯: (1 - (0.967424+0.007771i) zâ»Â¹)(1 - (0.967424-0.007771i) zâ»Â¹)
```

---

## 5. ç³»çµ±ç‰¹æ€§åˆ†æ

### 5.1 é€£çºŒæ™‚é–“ç³»çµ±

**è½‰ç§»å‡½æ•¸**ï¼š
```
H(s) = 1.1592 Ã— 10â· / (sÂ² + 6.6172 Ã— 10Â³s + 1.1592 Ã— 10â·) Â· B
```

**ç³»çµ±åƒæ•¸**ï¼š
- è‡ªç„¶é »ç‡ï¼šÏ‰â‚™ = 3404.7 rad/s (541.9 Hz)
- é˜»å°¼æ¯”ï¼šÎ¶ = 0.9718ï¼ˆæ¥è¿‘è‡¨ç•Œé˜»å°¼ï¼‰
- æ¥µé»ï¼špâ‚,â‚‚ = -3308.6 Â± 803.2i
- ç©©å®šæ€§ï¼šâœ… ç©©å®šï¼ˆæ¥µé»åœ¨å·¦åŠå¹³é¢ï¼‰

**ç‰©ç†ç‰¹æ€§**ï¼š
- å¿«é€ŸéŸ¿æ‡‰
- å¹¾ä¹ç„¡è¶…èª¿ï¼ˆéé˜»å°¼ç‰¹æ€§ï¼‰

### 5.2 é›¢æ•£æ™‚é–“ç³»çµ±

**è½‰ç§»å‡½æ•¸**ï¼š
```
H(zâ»Â¹) = zâ»Â¹ Â· [5.6695 Ã— 10â»â´ Ã— (1 + 0.9782zâ»Â¹)] / [1 - 1.9348zâ»Â¹ + 0.9360zâ»Â²] Â· B
```

**æ¡æ¨£åƒæ•¸**ï¼š
- æ¡æ¨£æ™‚é–“ï¼šTs = 10 Î¼s
- æ¡æ¨£é »ç‡ï¼šFs = 100 kHz
- æ¡æ¨£æ¯”ï¼šFs/f_signal = 184.5 å€ï¼ˆé è¶… Nyquistï¼‰

**æ¥µé»åˆ†æ**ï¼š
- æ¥µé»ï¼šzâ‚,â‚‚ = 0.9674 Â± 0.0078i
- æ¥µé»æ¨¡é•·ï¼š|z| = 0.9675 < 1 âœ…
- ç©©å®šæ€§ï¼šç©©å®šï¼ˆæ‰€æœ‰æ¥µé»åœ¨å–®ä½åœ“å…§ï¼‰

**å‹•æ…‹ç‰¹æ€§**ï¼š
- è¡°æ¸›ç‡ï¼šæ¯å€‹æ¡æ¨£é€±æœŸè¡°æ¸› 3.25%
- æŒ¯ç›ªé »ç‡ï¼šç´„ 128 Hzï¼ˆå¾®å¼±æŒ¯ç›ªï¼‰
- ç©©å®šæ™‚é–“ï¼šç´„ 1 msï¼ˆ100 å€‹æ¡æ¨£é€±æœŸï¼‰

### 5.3 æ¥µé»æ˜ å°„é©—è­‰

**ç†è«–è¨ˆç®—**ï¼š
```matlab
z = e^(sÂ·Ts)
  = e^(-3308.6 Ã— 10â»âµ) Ã— e^(Â±803.2i Ã— 10â»âµ)
  = e^(-0.03309) Ã— e^(Â±0.008032i)
  = 0.9674 Ã— (cos(0.008032) Â± iÂ·sin(0.008032))
  â‰ˆ 0.9674 Â± 0.0078i  âœ…
```

**çµè«–**ï¼šé›¢æ•£åŒ–çµæœèˆ‡ç†è«–å®Œå…¨ä¸€è‡´

---

## 6. æŠ€è¡“ç´°ç¯€ç¸½çµ

### 6.1 é›¢æ•£åŒ–æ–¹æ³•

**Zero-Order Hold (ZOH)**ï¼š
- ä¿æŒè¼¸å…¥ä¿¡è™Ÿåœ¨æ¡æ¨£é€±æœŸå…§æ†å®š
- é©åˆæ•¸ä½æ§åˆ¶ç³»çµ±
- MATLAB å‡½æ•¸ï¼š`c2d(H_s, Ts, 'zoh')`

**å„ªé»**ï¼š
- ç‰©ç†æ„ç¾©æ˜ç¢º
- ä¿ç•™ç³»çµ±ç©©å®šæ€§
- é©åˆå¯¦éš›æ•¸ä½å¯¦ä½œ

### 6.2 LaTeX æ ¼å¼æ”¯æ´

| æ ¼å¼ | ç”¨é€” | ç‰¹é» |
|------|------|------|
| æ¨™æº– LaTeX | è«–æ–‡ã€å ±å‘Š | `\begin{bmatrix}...\end{bmatrix}` |
| Word æ–¹æ³•A | Word æ–¹ç¨‹å¼ | `[â– (...)]`ï¼Œ`@` æ›è¡Œ |
| Word æ–¹æ³•B | Word æ–¹ç¨‹å¼ | `[\begin{matrix}...]` |

### 6.3 çŸ©é™£ç¬¦è™Ÿè™•ç†

**B çŸ©é™£ç¬¦è™Ÿè¦å‰‡**ï¼š
```
åŸå§‹ B çŸ©é™£ â†’ B_modified
- å°è§’ç·šï¼šä¿æŒæ­£å€¼
- éå°è§’ç·šï¼šåŠ ä¸Šè² è™Ÿ
```

**ç›®çš„**ï¼š
ç¬¦åˆç‰©ç†ç³»çµ±çš„è€¦åˆé …å®šç¾©ï¼ˆè² è€¦åˆï¼‰

---

## 7. æ–‡ä»¶ä¿®æ”¹è¨˜éŒ„

### Model_6_6_Continuous_Weighted.m

| è¡Œè™Ÿ | ä¿®æ”¹å…§å®¹ | èªªæ˜ |
|------|---------|------|
| 325-449 | æ–°å¢é›¢æ•£åŒ–å€å¡Š | å®Œæ•´çš„ ZOH é›¢æ•£åŒ–èˆ‡ LaTeX è¼¸å‡º |
| 331-338 | B çŸ©é™£ç¬¦è™Ÿä¿®æ­£ | éå°è§’ç·šåŠ è² è™Ÿ |
| 358-400 | ç©©å®šæ€§åˆ†æè¼¸å‡º | æ¥µé»ã€æ¨¡é•·ã€ç©©å®šæ€§åˆ¤æ–· |
| 403 | å›ºå®š kâ‚ çŸ©é™£ | ä½¿ç”¨æŒ‡å®šæ•¸å€¼ |
| 422-428 | æ¥µé»è¨ˆç®—ä¿®æ­£ | ä¿®æ­£ Bugï¼šæ­£ç¢ºè¨ˆç®— Z åŸŸæ¥µé» |
| 456-481 | è‡ªå‹•æ ¼å¼é¸æ“‡ | è¤‡æ•¸æ¥µé»ç”¨äºŒæ¬¡å¼ï¼Œå¯¦æ•¸æ¥µé»ç”¨å› å¼ |
| 456-578 | LaTeX è¼¸å‡º | å…©ç¨®çŸ©é™£æ ¼å¼ï¼ˆLaTeX èˆ‡ Wordï¼‰ |

---

## 8. é©—è­‰èˆ‡æ¸¬è©¦

### 8.1 ç©©å®šæ€§é©—è­‰ âœ…

**S åŸŸ**ï¼š
- æ‰€æœ‰æ¥µé»å¯¦éƒ¨ < 0 âœ…
- é˜»å°¼æ¯” Î¶ = 0.9718 âœ…

**Z åŸŸ**ï¼š
- æ‰€æœ‰æ¥µé» |z| < 1 âœ…
- æ¥µé»æ˜ å°„ç¬¦åˆç†è«– âœ…

### 8.2 é›¢æ•£åŒ–ç²¾åº¦é©—è­‰

**æ¥µé»æ˜ å°„èª¤å·®**ï¼š
```
ç†è«–å€¼ï¼š0.9674 Â± 0.0078i
è¨ˆç®—å€¼ï¼š0.9674 Â± 0.0078i
èª¤å·®ï¼š< 0.0001%
```

### 8.3 LaTeX è¼¸å‡ºé©—è­‰

**Word æ¸¬è©¦**ï¼š
- âœ… æ–¹æ³•A å¯æ­£ç¢ºæ¸²æŸ“çŸ©é™£
- âœ… æ–¹æ³•B å¯æ­£ç¢ºæ¸²æŸ“çŸ©é™£
- âœ… è½‰ç§»å‡½æ•¸å¯æ­£ç¢ºé¡¯ç¤º

---

## 9. å·²çŸ¥å•é¡Œèˆ‡é™åˆ¶

### 9.1 Word æ–¹ç¨‹å¼ç·¨è¼¯å™¨é™åˆ¶

**å•é¡Œ**ï¼š
- ä¸æ”¯æ´å®Œæ•´ LaTeX èªæ³•
- çŸ©é™£æ›è¡Œéœ€ä½¿ç”¨ `@` è€Œé `\\`
- éœ€æ‰‹å‹•èª¿æ•´éƒ¨åˆ†æ ¼å¼

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
æä¾›å…©ç¨®æ ¼å¼ï¼Œä½¿ç”¨è€…å¯é¸æ“‡é©åˆçš„ç‰ˆæœ¬

### 9.2 è¤‡æ•¸æ¥µé»é¡¯ç¤º

**å•é¡Œ**ï¼š
å…±è»›è¤‡æ•¸æ¥µé»ç„¡æ³•ç”¨å¯¦æ•¸å› å¼åˆ†è§£

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
- ä¸»è¦è¼¸å‡ºï¼šäºŒæ¬¡å¼ï¼ˆå¯¦æ•¸ä¿‚æ•¸ï¼‰
- è¨»è§£æä¾›ï¼šè¤‡æ•¸å› å¼åˆ†è§£

---

## 10. æœªä¾†æ”¹é€²å»ºè­°

### 10.1 å¯é¸åŠŸèƒ½

1. **æ¥µé»é›¶é»åœ–**ï¼š
   - åœ¨ S å¹³é¢å’Œ Z å¹³é¢ç¹ªè£½æ¥µé»ä½ç½®
   - è¦–è¦ºåŒ–ç©©å®šæ€§åˆ¤æ–·

2. **é »åŸŸéŸ¿æ‡‰æ¯”è¼ƒ**ï¼š
   - é›¢æ•£ç³»çµ± vs é€£çºŒç³»çµ±
   - é©—è­‰é›¢æ•£åŒ–ç²¾åº¦

3. **å¤šç¨®é›¢æ•£åŒ–æ–¹æ³•**ï¼š
   - é™¤ ZOH å¤–ï¼Œæ”¯æ´ Tustinã€Backward Euler
   - æ¯”è¼ƒä¸åŒæ–¹æ³•çš„çµæœ

### 10.2 ç¨‹å¼ç¢¼å„ªåŒ–

1. **å‘é‡åŒ–è¨ˆç®—**ï¼š
   - è¡Œ 239-282 çš„è¿´åœˆå¯é€²ä¸€æ­¥å„ªåŒ–
   - æå‡é‹ç®—æ•ˆç‡

2. **åƒæ•¸é©—è­‰**ï¼š
   - å¢åŠ è¼¸å…¥æª¢æŸ¥ï¼ˆæ¡æ¨£æ™‚é–“ã€é »ç‡ç¯„åœï¼‰
   - é˜²æ­¢ç„¡æ•ˆåƒæ•¸

---

## åƒè€ƒæ–‡ç»

- MATLAB Documentation: `c2d` function
- Digital Control Systems (Ogata)
- Discrete-Time Control Systems (Franklin et al.)

---

## é™„éŒ„ï¼šè¼¸å‡ºç¯„ä¾‹

### A. Command Window è¼¸å‡º

```
=== é›¢æ•£åŒ–è½‰ç§»å‡½æ•¸ (ZOH, T=1e-05 s) ===
æ¨™æº–å½¢å¼ä¿‚æ•¸ï¼š
  åˆ†å­ [b0, b1]: [5.669503e-04, 5.545817e-04]
  åˆ†æ¯ [1, a1, a2]: [1, -1.934848e+00, 9.359699e-01]

Z åŸŸæ¥µé»ï¼ˆå®Œæ•´ç²¾åº¦ï¼‰ï¼š
  z1 = 0.96742417 + 0.00777096i, |z1| = 0.96745533
  z2 = 0.96742417 - 0.00777096i, |z2| = 0.96745533
  é¡å‹: å…±è»›è¤‡æ•¸æ¥µé»å°ï¼ˆæœ‰æŒ¯ç›ªç‰¹æ€§ï¼‰
  âœ“ ç³»çµ±ç©©å®š (æ‰€æœ‰æ¥µé»åœ¨å–®ä½åœ“å…§)

å› å¼åˆ†è§£å½¢å¼ï¼ˆè¿‘ä¼¼é¡¯ç¤ºï¼‰ï¼š
  åˆ†å­: 5.6695 Ã— 10^-4 Ã— (1 + 0.9782 zâ»Â¹)
  åˆ†æ¯: (1 - (0.967424+0.007771i) zâ»Â¹)(1 - (0.967424-0.007771i) zâ»Â¹)

Amplifier Gain Matrix (å°è§’ç·š):
    0.3618         0         0         0         0         0
         0    0.3614         0         0         0         0
         0         0    0.3536         0         0         0
         0         0         0    0.3532         0         0
         0         0         0         0    0.3573         0
         0         0         0         0         0    0.3610

âœ“ LaTeX ç¨‹å¼ç¢¼å·²å„²å­˜è‡³: transfer_function_latex.txt
```

### B. LaTeX è¼¸å‡ºæª”æ¡ˆå…§å®¹

```latex
% ============================================
% Transfer Function LaTeX Output
% Generated: 03-Oct-2025 20:52:58
% ============================================

% === Continuous-Time Transfer Function ===
\mathbf{H}(s) = \frac{
1.1592 \times 10^{7}
}{
s^2 + 6.6172 \times 10^{3} s + 1.1592 \times 10^{7}
} \mathbf{B}

% === Discrete-Time Transfer Function (ZOH) - Factored Form ===
% Sampling Time: T = 1e-05 s
% å› å¼åˆ†è§£å½¢å¼ï¼ˆè¤‡æ•¸æ¥µé»ï¼Œä½¿ç”¨äºŒæ¬¡å¼ï¼‰
\mathbf{H}(z^{-1}) = z^{-1} \frac{5.6695 \times 10^{-4} \times (1 + 0.9782 z^{-1})}{1 - 1.934848 z^{-1} + 0.935970 z^{-2}} \mathbf{B}
% è¤‡æ•¸å› å¼åˆ†è§£: (1 - (0.967424+0.007771i) z^{-1})(1 - (0.967424-0.007771i) z^{-1})
% Z-domain poles: z1 = 0.96742417 +0.00777096i, z2 = 0.96742417 -0.00777096i
% Pole magnitudes: |z1| = 0.96745533, |z2| = 0.96745533

% === B Matrix (off-diagonal elements negated) ===
% æ ¼å¼1: å¤šè¡Œæ ¼å¼ï¼ˆé©åˆ LaTeX æ–‡æª”ï¼‰
\mathbf{B} = \begin{bmatrix}
0.2365 & -0.0064 & -0.0327 & -0.0344 & -0.0408 & -0.0343 \\
-0.0037 & 0.2818 & -0.0427 & -0.0675 & -0.0779 & -0.0368 \\
-0.0375 & -0.0328 & 0.2108 & -0.0060 & -0.0265 & -0.0341 \\
-0.0245 & -0.0777 & -0.0056 & 0.2361 & -0.0770 & -0.0241 \\
-0.0413 & -0.0760 & -0.0234 & -0.0720 & 0.2572 & -0.0045 \\
-0.0244 & -0.0330 & -0.0257 & -0.0245 & -0.0030 & 0.1845
\end{bmatrix}

% æ ¼å¼2: å–®è¡Œæ ¼å¼ï¼ˆè¤‡è£½åˆ° Word æ–¹ç¨‹å¼ç·¨è¼¯å™¨ï¼‰
B=[â– (0.2365&-0.0064&-0.0327&-0.0344&-0.0408&-0.0343@-0.0037&0.2818&-0.0427&-0.0675&-0.0779&-0.0368@-0.0375&-0.0328&0.2108&-0.0060&-0.0265&-0.0341@-0.0245&-0.0777&-0.0056&0.2361&-0.0770&-0.0241@-0.0413&-0.0760&-0.0234&-0.0720&0.2572&-0.0045@-0.0244&-0.0330&-0.0257&-0.0245&-0.0030&0.1845)]

% === Amplifier Gain Matrix ===
% æ ¼å¼1: å¤šè¡Œæ ¼å¼ï¼ˆé©åˆ LaTeX æ–‡æª”ï¼‰
k_A = \begin{bmatrix}
0.3618 & 0.0000 & 0.0000 & 0.0000 & 0.0000 & 0.0000 \\
0.0000 & 0.3614 & 0.0000 & 0.0000 & 0.0000 & 0.0000 \\
0.0000 & 0.0000 & 0.3536 & 0.0000 & 0.0000 & 0.0000 \\
0.0000 & 0.0000 & 0.0000 & 0.3532 & 0.0000 & 0.0000 \\
0.0000 & 0.0000 & 0.0000 & 0.0000 & 0.3573 & 0.0000 \\
0.0000 & 0.0000 & 0.0000 & 0.0000 & 0.0000 & 0.3610
\end{bmatrix}

% æ ¼å¼2: å–®è¡Œæ ¼å¼ï¼ˆè¤‡è£½åˆ° Word æ–¹ç¨‹å¼ç·¨è¼¯å™¨ï¼‰
k_A=[â– (0.3618&0.0000&0.0000&0.0000&0.0000&0.0000@0.0000&0.3614&0.0000&0.0000&0.0000&0.0000@0.0000&0.0000&0.3536&0.0000&0.0000&0.0000@0.0000&0.0000&0.0000&0.3532&0.0000&0.0000@0.0000&0.0000&0.0000&0.0000&0.3573&0.0000@0.0000&0.0000&0.0000&0.0000&0.0000&0.3610)]
```

---

**æœƒè­°æ™‚é–“**ï¼š2025-10-03
**ä¸»è¦æ–‡ä»¶**ï¼š[Model_6_6_Continuous_Weighted.m](Model_6_6_Continuous_Weighted.m)
**è¼¸å‡ºæ–‡ä»¶**ï¼š[transfer_function_latex.txt](transfer_function_latex.txt)
**ç‹€æ…‹**ï¼šâœ… æ‰€æœ‰åŠŸèƒ½å·²å¯¦ä½œä¸¦é©—è­‰å®Œæˆ

**é—œéµæˆå°±**ï¼š
1. âœ… æˆåŠŸå¯¦ä½œ ZOH é›¢æ•£åŒ–
2. âœ… ä¿®æ­£æ¥µé»è¨ˆç®— Bugï¼ˆå¾ 1.0336 â†’ 0.9674ï¼‰
3. âœ… å¯¦ç¾ LaTeX é›™æ ¼å¼è¼¸å‡ºï¼ˆLaTeX æ–‡æª” + Word æ–¹ç¨‹å¼ï¼‰
4. âœ… å®Œæ•´ç©©å®šæ€§åˆ†æèˆ‡é©—è­‰
5. âœ… ç³»çµ±ç‰¹æ€§è©³ç´°è§£æ
